{% extends "shop/bases.html" %}

{% block content %}

<div class="row">
    <div class="col-md-12">
        <ul class="list-group" id="item-list">
           

          </ul>

    </div>
</div>



{% endblock%}
{% block js %}
<script type="text/javascript">
        if(localStorage.getItem('cart')==null){
            var cart =  {};

        }else{
            cart = JSON.parse(localStorage.getItem('cart'));
        }
        var total = 0;
        var number = 0;
        console.log(cart)
        for(item in cart){
            let name = cart[item][1];
            let quantity = cart[item][0];
            let price = cart[item][2];
            number += quantity;
            total += price;
            let itemString =
             `<li class="list-group-item d-flex justify-content-between align-items-center">${name}
              <center><span class="badge badge-primary bg-primary badge-pill"> QTY: ${quantity}</span></center>
                <center><span  class="badge badge-warning bg-primary badge-pill">€ ${price}</span></center>
            </li>`;
            $('#item-list').append(itemString);
        }
        let itemNombre = ` <li class="list-group-item d-flex justify-content-between align-items-center">
              <b class="bg-success ">TOTAL</b>
              <center><span class="badge badge-danger bg-success badge-pill"> QTY: ${number} </span></center>
              <span class="badge badge-danger bg-success badge-pill">€ ${total}</span>
            </li>`;
            $('#item-list').append(itemNombre);
            $('#total').val("$"+total);


        $('#items').val(JSON.stringify(cart));
    // if(localStorage.getItem('cart')==null){
    //   var cart = {};

    // }else{
    //   cart = JSON.parse(localStorage.getItem('cart'));
    // }
    // for(item in cart){
    //   let name = cart[item][1];
    //   let quantity = cart[item][0];

    // }
</script>
{% endblock%}
